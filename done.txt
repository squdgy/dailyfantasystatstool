Restart on 4/05/2014

re-enable mlb starting lineup import
fixed mlb eligibility maps for fd, dk, dd
prices for mlb from fd, dk, dd - re-enabled scrape, fixed issues with perl scripts
odds - add id mappings, test - every day until all mapped: done for all teams, except double headers
fix 'UpdateRosterPositions' sproc to change the inserts for position 2 to a merge statement, eliminate duplicate key exceptions
fix up/check roster and game definitions: done, needed for dd
fixed and re-enabled yahoo scrape and display
fix all mlb nicknames so far
comment out hidden columns for mlb, ex. hr until they can be added back server-side
double check scoring/stats at ff/dd/dk - done
add ff game definition for mlb

--- Release 2.3.0 (start of mlb, with dd, dk, fd, ff) ---

force loaded nba prices because there are no Monday games
fix sport footer (gray nfl, unselect current sport)
if player has no salary, don't allow in lineup
in lineup builder, change sort to be by dfsroster.sort, not by rosterpositionid
check position subset dropdown: it's ok
change default sport to baseball
fix spacing of positions
remove N/A for pitcher batting order


--- Release 2.3.1 ---

fix yahoo matchup ratings to be by game
fix DH bug - dh was not mapped to valid columns in the lower grid
fix FD NHL salary cap value which was wrong (55,000 is right)
show current site somewhere when site panel hidden - shown in title of site picker
some clean up of weather display
move back to minified ext js file

--- Release 2.3.2 ---

fix for local storage save/restore of lineup - needed to disable state save/restore on rosterbuilder panel
l/r/s batting filter
set teamid in dfsgameplayerstats for MLB - in sproc ConvertMlbStats: should be the team they played for in that game (not current team) : done

--- Release 2.3.3 ---

add google analytics code to site
delete perl nickname mappings - once we have an id for a player we should be good and not need these anymore
change text of projected points to projected runs for baseball
add pitcher name and handedness to game detail data
fix active flag on player - when they are in a starting lineup, probably means they just came off of the DL : done at end of starting lineup import
added "perfect game" stat and calculation for use in ff scoring
added indexes to improve performance of calculatefantasypoints, was 2:05, now 1:25-139
more performance improvements to calculatefantasypoints, don't recompute baseball stats older than yesterday, now 1:05 - 1:25.

--- Release 2.3.4 ---

draftstreet nhl - game definition, mappings etc. for playoffs

--- Release 2.3.5 ---

fix delete problem in azure: loops through every file even though it was not just copied, to find a source file to delete (after copy), take much longer than necessary
deleted load_db and updated update_db to be able to load a full season and to delete game info before re-importing
doubleheader rework:
- changed load_schedule to: use merge into, not re-generate game ids from scratch, update idmapping table with mlb game ids
- re-imported and recalculated all stats for entire season
- added a double header order to the schedule table: 0 = not double header, 1 = game 1 of dh, 2 = game 2 of dh
- plumb doubleheadernumber through from db to front end
added in-database nicknames for use within perl code

--- Release 2.3.6 ---

doubleheader rework:
 - all mlb.com scrapes are fine: most don't need generated gameid
 - odds scrape -get teamids for double headers, get most game ids for double headers
 - yahoo matchups - not enough info to do anything about, game id is good enough
more nicknames
install and learn a bunch about orchard
odds job stopped working so researched new ones, but then it started working again
couple more nicknames - moving nicknames to db: when no mapping found, add records to nickname table
fix dk scrapes - crawl lobby to get contest now - should change to use API eventually
changed dd and fd to better deal with multi-day contests - still not ideal but good enough for the foreseeable future
change roster scrapes to NOT delete and re-add.
doubleheader rework:
 - download htmlagilitypack to scrape mlb lineup
 - need new, non-rw source for starting lineup, where able to distinguish double-headers - used one from mlb (not sure of speed)
    http://mlb.mlb.com/mlb/lineups/index.jsp?game_id=2014_04_19_arimlb_lanmlb_1
    http://m.espn.go.com/mlb/lineups?wjb
 - 1 day and already abandoned mlb lineup (not fast enough), switched to starting lineups from mlblineups twitter feed 
orchard work:
- created derived theme in order to override stuff in the theme
- figure out how to edit/publish: webmatrix will publish to azure, so ok
- clean up attribution in theme, create attribution page
lineup code cleanup - delete all traces of rw lineups and perl lineups
lineup code cleanup - fix dates so it really compares current day's tweets
lineup code cleanup - speed up, using bulk importer; remove htmlagilitypack
lineup code cleanup - more special cases based on names
temporarily changed nba and nhl to get 2 days of games/players in UI

--- Release 2.3.7 ---